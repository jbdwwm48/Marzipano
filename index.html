<!DOCTYPE html>
<html lang="fr">

<head>
  <title>Panorama Marzipano</title>
  <meta charset="utf-8" />
  <meta name="viewport"
    content="target-densitydpi=device-dpi, width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui" />
  <style>
    @-ms-viewport {
      width: device-width;
    }

    /* Fond général */
    body {
      background: #f5f5f0;
      /* blanc cassé gris très clair */
      margin: 0;
      font-family: Arial, sans-serif;
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }

    /* Titre centré */
    h2 {
      margin-bottom: 15px;
      font-weight: 700;
      text-align: center;
      color: #6b54a6;
      /* violet */
      user-select: none;
    }

    /* Conteneur iframe + boutons */
    #panoramaSection {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      max-width: 1300px;
    }

    /* Boutons au-dessus, centrés */
    #zoomControls {
      margin-bottom: 12px;
      text-align: center;
    }

    .resize-btn {
      background-color: #6b54a6;
      border: none;
      border-radius: 6px;
      padding: 10px 18px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      margin: 0 10px;
      color: white;
      font-size: 15px;
      user-select: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      min-width: 120px;
      box-shadow: 0 2px 6px rgba(107, 84, 166, 0.6);
    }

    .resize-btn:hover {
      background-color: #563d82;
    }

    /* Icônes carrés */
    .resize-btn svg {
      width: 20px;
      height: 20px;
      fill: white;
    }

    .hidden {
      display: none !important;
    }

    /* Iframe panorama */
    #iframePanorama {
      width: 100%;
      max-width: 900px;
      aspect-ratio: 3 / 2;
      border: 3px solid #6b54a6;
      border-radius: 8px;
      background: black;
      transition: all 0.3s ease;
    }


    /* Mode fullscreen centré */
    #iframePanorama.fullscreen {
      position: fixed !important;
      top: 50% !important;
      left: 50% !important;
      width: 95vw !important;
      max-width: 1400px !important;
      height: auto !important;
      aspect-ratio: 16 / 9;
      max-height: 90vh !important;
      transform: translate(-50%, -50%) !important;
      z-index: 9999 !important;
      border-radius: 10px !important;
      background: black;
      box-shadow: 0 0 30px rgba(107, 84, 166, 0.8);
    }
  </style>
</head>

<body>

  <h2>Panorama 360° intégré en iframe</h2>

  <section id="panoramaSection" role="region" aria-label="Panorama Interactif">

    <div id="zoomControls">
      <button id="btnZoomIn" class="resize-btn" aria-label="Zoomer">
        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" stroke="white" stroke-width="3"
          stroke-linecap="round" stroke-linejoin="round" fill="none">
          <line x1="12" y1="5" x2="12" y2="19" />
          <line x1="5" y1="12" x2="19" y2="12" />
        </svg>
        Zoomer
      </button>

      <button id="btnZoomOut" class="resize-btn hidden" aria-label="Dézoomer">
        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <rect x="4" y="9" width="16" height="6" rx="2" ry="2" />
        </svg>
        Dézoomer
      </button>
    </div>

    <iframe id="iframePanorama" src="panorama.html" allowfullscreen frameborder="0"></iframe>
  </section>

  <script>
    const iframe = document.getElementById('iframePanorama');
    const btnZoomIn = document.getElementById('btnZoomIn');
    const btnZoomOut = document.getElementById('btnZoomOut');

    btnZoomIn.addEventListener('click', () => {
      iframe.classList.add('fullscreen');
      btnZoomIn.classList.add('hidden');
      btnZoomOut.classList.remove('hidden');
    });

    btnZoomOut.addEventListener('click', () => {
      iframe.classList.remove('fullscreen');
      btnZoomOut.classList.add('hidden');
      btnZoomIn.classList.remove('hidden');
    });
  </script>

</body>

</html>